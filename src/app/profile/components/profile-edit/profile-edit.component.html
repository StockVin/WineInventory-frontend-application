<div class="profile-container" [formGroup]="form">
  <div class="profile-left">
    <mat-card class="password-section">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Current password</mat-label>
        <input matInput [type]="hideActual ? 'password' : 'text'" formControlName="currentPassword" />
        <button mat-icon-button matSuffix (click)="hideActual = !hideActual" type="button">
          <mat-icon>{{ hideActual ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>New password</mat-label>
        <input matInput [type]="hideNew ? 'password' : 'text'" formControlName="newPassword" />
        <button mat-icon-button matSuffix (click)="hideNew = !hideNew" type="button">
          <mat-icon>{{ hideNew ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Confirm password</mat-label>
        <input matInput [type]="hideConfirm ? 'password' : 'text'" formControlName="confirmPassword" />
        <button mat-icon-button matSuffix (click)="hideConfirm = !hideConfirm" type="button">
          <mat-icon>{{ hideConfirm ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="form.hasError('passwordMismatch')">
          Passwords do not match
        </mat-error>
      </mat-form-field>

      <div class="actions">
        <button mat-raised-button class="save" (click)="save()">Save</button>
        <button mat-button class="cancel" (click)="cancel()">Cancel</button>
      </div>
    </mat-card>
  </div>

  <div class="profile-right">
    <mat-card class="profile-section">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name" />
        <mat-icon matSuffix>edit</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" />
        <mat-icon matSuffix>edit</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Role</mat-label>
        <input matInput formControlName="role" />
        <mat-icon matSuffix>role</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Business</mat-label>
        <input matInput formControlName="businessName" />
        <mat-icon matSuffix>edit</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phone" />
        <mat-icon matSuffix>edit</mat-icon>
      </mat-form-field>

      <!-- Nuevo campo: DirecciÃ³n del negocio -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Business address</mat-label>
        <input matInput formControlName="businessAddress" />
        <button mat-icon-button matSuffix (click)="openMap()" type="button">
          <mat-icon>edit_location</mat-icon>
        </button>
      </mat-form-field>


      <div class="actions">
        <button mat-raised-button class="save" (click)="save()">Save</button>
        <button mat-button class="cancel" (click)="cancel()">Cancel</button>
      </div>
    </mat-card>
  </div>
</div>